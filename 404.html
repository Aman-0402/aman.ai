<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Aman Raj</title>
    <!--
      SPA Routing Fix for GitHub Pages — Step 1 of 2 (the encoder).
      Pairs with the decoder script in index.html.

      GitHub Pages serves a 404 for every URL that isn't a real file.
      This page intercepts those 404s and re-encodes the path into the
      query string so that index.html (and React Router) can decode it.

      pathSegmentsToKeep logic:
        - On the DEFAULT subdomain (aman-0402.github.io/aman.ai/):
            The repo name 'aman.ai' is one segment deep → keep 1 segment.
            /aman.ai/projects  →  /aman.ai/?/projects  ✓

        - On a CUSTOM DOMAIN (amanraj.dev — root of the domain):
            Site is served from root → keep 0 segments.
            /projects  →  /?/projects  ✓

      We detect this dynamically so the same build works correctly in
      both environments without any code change needed when switching
      from subdomain to custom domain.

      Source: https://github.com/rafgraph/spa-github-pages
    -->
    <script>
      var pathSegmentsToKeep = window.location.hostname === 'aman-0402.github.io' ? 1 : 0;

      var l = window.location;
      l.replace(
        l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
        l.pathname.split('/').slice(0, 1 + pathSegmentsToKeep).join('/') + '/?' +
        l.pathname.slice(1).split('/').slice(pathSegmentsToKeep).join('/').replace(/&/g, '~and~') +
        (l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '') +
        l.hash
      );
    </script>
  </head>
  <body></body>
</html>
